{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./css/topBar.css';import axios from'axios';import{useNavigate}from'react-router-dom';import{SERVER_ADDRESS}from'./serverAddress/serverAddress';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Nav(_ref){let{user}=_ref;const navigate=useNavigate();const[category,setCategory]=useState([]);const[open,setOpen]=useState(false);useEffect(()=>{axios.get(`${SERVER_ADDRESS}/posts_category/category`).then(res=>{setCategory(res.data);}).catch(error=>{console.error(error);});},[]);useEffect(()=>{},[user]);const logout=async()=>{try{const response=await axios.post('http://localhost:8080/userdb/logout',{},{withCredentials:true});}catch(error){console.error(error);}};const handleClickCategory=item=>{navigate('/board',{state:{category:item.category,category_no:item.no}});};return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"title-text\",href:\"/\",children:/*#__PURE__*/_jsx(\"a\",{className:\"title-a\",href:\"/\",children:\"HarmonyHub\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-top-nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"categoryContainer\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"top-nav-text\",onClick:()=>setOpen(prev=>!prev),children:\"\\uAC8C\\uC2DC\\uD310\"}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:category.map((item,index)=>/*#__PURE__*/_jsx(\"p\",{onClick:()=>{handleClickCategory({no:item.no,category:item.category});setOpen(prev=>!prev);},children:item.category},index))})]}),/*#__PURE__*/_jsx(\"a\",{className:\"top-nav-text\",href:\"/\",children:\"\\uC74C\\uC545 \\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"a\",{className:\"top-nav-text\",href:\"/\",children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"top-bar\",children:user?/*#__PURE__*/_jsxs(\"div\",{className:\"loginView\",children:[/*#__PURE__*/_jsx(\"a\",{onClick:logout,href:\"/\",children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"}),/*#__PURE__*/_jsx(\"a\",{children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsxs(\"a\",{children:[user.name,\"\\uB2D8\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"loginView\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"login\",href:\"/login\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"a\",{className:\"signup\",href:\"/signup\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})]})});}export default Nav;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","SERVER_ADDRESS","jsx","_jsx","jsxs","_jsxs","Nav","_ref","user","navigate","category","setCategory","open","setOpen","get","then","res","data","catch","error","console","logout","response","post","withCredentials","handleClickCategory","item","state","category_no","no","className","children","href","onClick","prev","map","index","name"],"sources":["C:/Users/dbwns/OneDrive/바탕 화면/myProject/community/src/Nav.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './css/topBar.css';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { SERVER_ADDRESS } from './serverAddress/serverAddress';\r\n\r\nfunction Nav({ user }) {\r\n    const navigate = useNavigate();\r\n    const [category, setCategory] = useState([]);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`${SERVER_ADDRESS}/posts_category/category`)\r\n            .then((res) => {\r\n                setCategory(res.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {}, [user]);\r\n\r\n    const logout = async () => {\r\n        try {\r\n            const response = await axios.post('http://localhost:8080/userdb/logout', {}, { withCredentials: true });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const handleClickCategory = (item) => {\r\n        navigate('/board', { state: { category: item.category, category_no: item.no } });\r\n    };\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"topContainer\">\r\n                <div className=\"title\">\r\n                    <strong className=\"title-text\" href=\"/\">\r\n                        <a className=\"title-a\" href=\"/\">\r\n                            HarmonyHub\r\n                        </a>\r\n                    </strong>\r\n                    <div className=\"main-top-nav\">\r\n                        <div className=\"categoryContainer\">\r\n                            <a className=\"top-nav-text\" onClick={() => setOpen((prev) => !prev)}>\r\n                                게시판\r\n                            </a>\r\n                            {open && (\r\n                                <div className=\"dropdown-menu\">\r\n                                    {category.map((item, index) => (\r\n                                        <p\r\n                                            key={index}\r\n                                            onClick={() => {\r\n                                                handleClickCategory({ no: item.no, category: item.category });\r\n                                                setOpen((prev) => !prev);\r\n                                            }}\r\n                                        >\r\n                                            {item.category}\r\n                                        </p>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <a className=\"top-nav-text\" href=\"/\">\r\n                            음악 검색\r\n                        </a>\r\n                        <a className=\"top-nav-text\" href=\"/\">\r\n                            공지사항\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"top-bar\">\r\n                    {user ? (\r\n                        <div className=\"loginView\">\r\n                            <a onClick={logout} href=\"/\">\r\n                                로그아웃\r\n                            </a>\r\n                            <a>마이페이지</a>\r\n                            <a>{user.name}님</a>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"loginView\">\r\n                            <a className=\"login\" href=\"/login\">\r\n                                로그인\r\n                            </a>\r\n                            <a className=\"signup\" href=\"/signup\">\r\n                                회원가입\r\n                            </a>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Nav;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}