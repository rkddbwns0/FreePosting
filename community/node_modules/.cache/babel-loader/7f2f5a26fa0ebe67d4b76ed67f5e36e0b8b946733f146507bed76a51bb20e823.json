{"ast":null,"code":"import axios from'axios';import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{SERVER_ADDRESS}from'./serverAddress/serverAddress';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _location$state,_location$state2,_location$state3;const navigate=useNavigate();const location=useLocation();const path=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.form)||'/';const no=((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.no)||'';const category_no=((_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.category_no)||'';const[id,setId]=useState('');const[password,setPassword]=useState('');const login=async()=>{try{const response=await axios.post(`${SERVER_ADDRESS}/userdb/login`,{id,password},{withCredentials:true});const data=response.data.login;if(data===true){const state={};if(no)state.no=no;if(category_no)state.category_no=category_no;navigate(path,{state});}}catch(error){if(error){console.error(error);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"id\",name:\"id\",value:id,onChange:text=>setId(text.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:text=>setPassword(text.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"\\uB85C\\uADF8\\uC778\"})})]});}export default Login;","map":{"version":3,"names":["axios","React","useState","useLocation","useNavigate","SERVER_ADDRESS","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state2","_location$state3","navigate","location","path","state","form","no","category_no","id","setId","password","setPassword","login","response","post","withCredentials","data","error","console","children","type","name","value","onChange","text","target","onClick"],"sources":["C:/Users/dbwns/OneDrive/바탕 화면/myProject/community/src/login.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { SERVER_ADDRESS } from './serverAddress/serverAddress';\r\n\r\nfunction Login() {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const path = location.state?.form || '/';\r\n    const no = location.state?.no || '';\r\n    const category_no = location.state?.category_no || '';\r\n    const [id, setId] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const login = async () => {\r\n        try {\r\n            const response = await axios.post(\r\n                `${SERVER_ADDRESS}/userdb/login`,\r\n                { id, password },\r\n                { withCredentials: true }\r\n            );\r\n            const data = response.data.login;\r\n            if (data === true) {\r\n                const state = {};\r\n                if (no) state.no = no;\r\n                if (category_no) state.category_no = category_no;\r\n                navigate(path, { state });\r\n            }\r\n        } catch (error) {\r\n            if (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <p>아이디</p>\r\n                <input type=\"email\" id=\"id\" name=\"id\" value={id} onChange={(text) => setId(text.target.value)} />\r\n            </div>\r\n            <div>\r\n                <p>비밀번호</p>\r\n                <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={(text) => setPassword(text.target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button onClick={login}>로그인</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}